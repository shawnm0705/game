function _toConsumableArray(l){return _arrayWithoutHoles(l)||_iterableToArray(l)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}function _arrayWithoutHoles(l){if(Array.isArray(l)){for(var n=0,u=new Array(l.length);n<l.length;n++)u[n]=l[n];return u}}function _defineProperties(l,n){for(var u=0;u<n.length;u++){var e=n[u];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}function _createClass(l,n,u){return n&&_defineProperties(l.prototype,n),u&&_defineProperties(l,u),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{rZCR:function(l,n,u){"use strict";u.r(n);var e=u("8Y7J"),t=function l(){_classCallCheck(this,l)},r=u("pMnS"),a=u("fNgX"),i=u("s7LF"),o=u("Nv++"),s=u("cUpR"),c=u("SVse"),m=function(){function l(n,u,e,t,r){_classCallCheck(this,l),this.utils=n,this.storage=u,this.route=e,this.p2p=t,this.router=r,this.games={davinci_code:{name:"Davinci Code",min:2,max:4}},this.roomMembers=[]}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.game=this.route.snapshot.paramMap.get("game"),this.p2p.init(),this.storage.setGameData({}),this.storage.get("name")&&(this.roomMembers=[this.storage.get("name")]),this.utils.getEvent("game-data").subscribe((function(n){if(l.utils.has(n,"newUser")&&n.newUser&&l.storage.isHost()){l.roomMembers.push(n.name);var u=l.storage.getGameData();l.utils.has(u,"members")||(u.members=[{id:l.p2p.getId(),name:l.storage.get("name")}]),u.members.push({id:n.id,name:n.name}),l.storage.setGameData(u),l.p2p.connect(n.id),l.p2p.send(u,!0),l.p2p.send(u)}l.utils.has(n,"members")&&(l.roomMembers=n.members.map((function(l){return l.name})),l.storage.setGameData({members:n.members})),l.utils.has(n,"startGame")&&n.startGame&&l.router.navigate([n.game])}))}},{key:"saveName",value:function(){this.name&&(this.storage.set("name",this.name),this.roomMembers=[this.name])}},{key:"back",value:function(){this.router.navigate([""])}},{key:"join",value:function(){this.roomId&&(this.p2p.connect(this.roomId),this.p2p.send({newUser:!0,id:this.p2p.getId(),name:this.storage.get("name")},!0),this.joiningRoom=!0)}},{key:"start",value:function(){this.p2p.send({startGame:!0,game:this.game}),this.router.navigate([this.game])}}]),l}(),d=u("kh7C"),b=u("fbMX"),p=u("iInd"),g=u("Pi6V"),f=e.nb({encapsulation:0,styles:[[""]],data:{}});function h(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,10,null,null,null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Fb(2,null,["",":"])),(l()(),e.pb(3,0,null,null,5,"input",[["class","mx-2"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,r=l.component;return"input"===n&&(t=!1!==e.Ab(l,4)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Ab(l,4).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Ab(l,4)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Ab(l,4)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(r.name=u)&&t),t}),null,null)),e.ob(4,16384,null,0,i.b,[e.B,e.k,[2,i.a]],null,null),e.Db(1024,null,i.e,(function(l){return[l]}),[i.b]),e.ob(6,671744,null,0,i.h,[[8,null],[8,null],[8,null],[6,i.e]],{model:[0,"model"]},{update:"ngModelChange"}),e.Db(2048,null,i.f,null,[i.h]),e.ob(8,16384,null,0,i.g,[[4,i.f]],null,null),(l()(),e.pb(9,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.saveName()&&e),e}),null,null)),(l()(),e.Fb(10,null,["",""]))],(function(l,n){l(n,6,0,n.component.name)}),(function(l,n){var u=n.component;l(n,2,0,u.utils.lang("Nick Name")),l(n,3,0,e.Ab(n,8).ngClassUntouched,e.Ab(n,8).ngClassTouched,e.Ab(n,8).ngClassPristine,e.Ab(n,8).ngClassDirty,e.Ab(n,8).ngClassValid,e.Ab(n,8).ngClassInvalid,e.Ab(n,8).ngClassPending),l(n,10,0,u.utils.lang("OK"))}))}function k(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"fa-icon",[["class","text-info mr-2 ng-fa-icon"],["icon","user-alt"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),e.ob(2,573440,null,0,o.c,[s.b,o.a,o.d,[2,o.i]],{icon:[0,"icon"]},null),(l()(),e.Fb(3,null,["",""]))],(function(l,n){l(n,2,0,"user-alt")}),(function(l,n){l(n,1,0,e.Ab(n,2).title,e.Ab(n,2).renderedIconHTML),l(n,3,0,n.context.$implicit)}))}function v(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,13,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,9,"div",[["class","col-12 text-left"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),e.Fb(3,null,["",": "])),(l()(),e.pb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),e.Fb(5,null,["",""])),(l()(),e.pb(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Fb(7,null,["",": ("," - "," ",")"])),(l()(),e.pb(8,0,null,null,2,"ul",[["class","list-group mt-2"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,k)),e.ob(10,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.pb(11,0,null,null,2,"div",[["class","col-12 text-center mt-2"]],null,null,null,null,null)),(l()(),e.pb(12,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.start()&&e),e}),null,null)),(l()(),e.Fb(13,null,["",""]))],(function(l,n){l(n,10,0,n.component.roomMembers)}),(function(l,n){var u=n.component;l(n,3,0,u.utils.lang("My Room Id")),l(n,5,0,u.p2p.getId()),l(n,7,0,u.utils.lang("People In The Room"),u.games[u.game].min,u.games[u.game].max,u.utils.lang("people")),l(n,12,0,u.roomMembers.length<u.games[u.game].min||u.roomMembers.length>u.games[u.game].max),l(n,13,0,u.utils.lang("Start Game"))}))}function C(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Fb(2,null,["",":"])),(l()(),e.pb(3,0,null,null,5,"input",[["class","mx-2"],["style","width: 150px"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,r=l.component;return"input"===n&&(t=!1!==e.Ab(l,4)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Ab(l,4).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Ab(l,4)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Ab(l,4)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(r.roomId=u)&&t),t}),null,null)),e.ob(4,16384,null,0,i.b,[e.B,e.k,[2,i.a]],null,null),e.Db(1024,null,i.e,(function(l){return[l]}),[i.b]),e.ob(6,671744,null,0,i.h,[[8,null],[8,null],[8,null],[6,i.e]],{model:[0,"model"]},{update:"ngModelChange"}),e.Db(2048,null,i.f,null,[i.h]),e.ob(8,16384,null,0,i.g,[[4,i.f]],null,null),(l()(),e.pb(9,0,null,null,1,"button",[["class","btn btn-success btn-sm"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.join()&&e),e}),null,null)),(l()(),e.Fb(10,null,["",""]))],(function(l,n){l(n,6,0,n.component.roomId)}),(function(l,n){var u=n.component;l(n,2,0,u.utils.lang("Room Number")),l(n,3,0,e.Ab(n,8).ngClassUntouched,e.Ab(n,8).ngClassTouched,e.Ab(n,8).ngClassPristine,e.Ab(n,8).ngClassDirty,e.Ab(n,8).ngClassValid,e.Ab(n,8).ngClassInvalid,e.Ab(n,8).ngClassPending),l(n,9,0,u.joiningRoom),l(n,10,0,u.utils.lang("Join"))}))}function D(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"fa-icon",[["class","text-info mr-2 ng-fa-icon"],["icon","user-alt"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),e.ob(2,573440,null,0,o.c,[s.b,o.a,o.d,[2,o.i]],{icon:[0,"icon"]},null),(l()(),e.Fb(3,null,["",""]))],(function(l,n){l(n,2,0,"user-alt")}),(function(l,n){l(n,1,0,e.Ab(n,2).title,e.Ab(n,2).renderedIconHTML),l(n,3,0,n.context.$implicit)}))}function I(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,5,"div",[["class","col-12 text-left"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Fb(2,null,["",": ("," - "," ",")"])),(l()(),e.pb(3,0,null,null,2,"ul",[["class","list-group mt-2"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,D)),e.ob(5,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,5,0,n.component.roomMembers)}),(function(l,n){var u=n.component;l(n,2,0,u.utils.lang("People In The Room"),u.games[u.game].min,u.games[u.game].max,u.utils.lang("people"))}))}function x(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,4,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,C)),e.ob(2,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,I)),e.ob(4,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.roomMembers.length<=1),l(n,4,0,u.roomMembers.length>1)}),null)}function F(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,21,null,null,null,null,null,null,null)),(l()(),e.pb(1,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,3,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(l()(),e.Fb(3,null,[" ",""])),(l()(),e.pb(4,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.storage.remove("name")&&e),e}),null,null)),(l()(),e.Fb(5,null,["",""])),(l()(),e.pb(6,0,null,null,5,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.pb(7,0,null,null,4,"button",[["class","btn btn-lg"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.storage.isHost(!0)&&e),e}),null,null)),e.Db(512,null,c.q,c.r,[e.q,e.r,e.k,e.B]),e.ob(9,278528,null,0,c.h,[c.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Cb(10,{"btn-outline-primary":0,"btn-primary":1}),(l()(),e.Fb(11,null,["",""])),(l()(),e.pb(12,0,null,null,5,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.pb(13,0,null,null,4,"button",[["class","btn btn-lg"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.storage.isHost(!1)&&e),e}),null,null)),e.Db(512,null,c.q,c.r,[e.q,e.r,e.k,e.B]),e.ob(15,278528,null,0,c.h,[c.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Cb(16,{"btn-outline-primary":0,"btn-primary":1}),(l()(),e.Fb(17,null,["",""])),(l()(),e.eb(16777216,null,null,1,null,v)),e.ob(19,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,x)),e.ob(21,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(0,null,null,0))],(function(l,n){var u=n.component,e=l(n,10,0,!u.storage.isHost(),u.storage.isHost());l(n,9,0,"btn btn-lg",e);var t=l(n,16,0,u.storage.isHost(),!u.storage.isHost());l(n,15,0,"btn btn-lg",t),l(n,19,0,u.storage.isHost()),l(n,21,0,!u.storage.isHost())}),(function(l,n){var u=n.component;l(n,3,0,u.utils.lang("Hello")),l(n,5,0,u.storage.get("name")),l(n,11,0,u.utils.lang("Create Room")),l(n,17,0,u.utils.lang("Join Room"))}))}function y(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,5,"div",[["class","m-3"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,"button",[["class","border-0 bg-transparent text-primary"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.back()&&e),e}),null,null)),(l()(),e.pb(2,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["icon","arrow-left"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),e.ob(3,573440,null,0,o.c,[s.b,o.a,o.d,[2,o.i]],{icon:[0,"icon"]},null),(l()(),e.pb(4,0,null,null,1,"h2",[["class","text-center"]],null,null,null,null,null)),(l()(),e.Fb(5,null,["",""])),(l()(),e.pb(6,0,null,null,4,"div",[["class","container text-center mt-3"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,h)),e.ob(8,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,F)),e.ob(10,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,3,0,"arrow-left"),l(n,8,0,!u.storage.get("name")),l(n,10,0,u.storage.get("name"))}),(function(l,n){var u=n.component;l(n,2,0,e.Ab(n,3).title,e.Ab(n,3).renderedIconHTML),l(n,5,0,u.utils.lang(u.games[u.game].name))}))}var M=e.lb("app-room",m,(function(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"app-room",[],null,null,null,y,f)),e.ob(1,114688,null,0,m,[d.a,b.a,p.a,g.a,p.k],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),T=function l(){_classCallCheck(this,l),this.color="white"},w=e.nb({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{width:40px;height:50px;font-size:25px;margin:auto;border-width:3px;color:#000;background:#fff}.placeholder[_ngcontent-%COMP%]{border:2px dashed var(--orange)}.black[_ngcontent-%COMP%]{color:#fff;background:#000}.selected[_ngcontent-%COMP%]{-webkit-transform:scale(1.3);transform:scale(1.3)}p[_ngcontent-%COMP%]{margin-bottom:0}"]],data:{}});function G(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,4,"div",[["class","card mb-1"]],null,null,null,null,null)),e.Db(512,null,c.q,c.r,[e.q,e.r,e.k,e.B]),e.ob(2,278528,null,0,c.h,[c.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Cb(3,{selected:0,black:1}),(l()(),e.Fb(4,null,["",""]))],(function(l,n){var u=n.component,e=l(n,3,0,u.selected,"black"===u.color);l(n,2,0,"card mb-1",e)}),(function(l,n){l(n,4,0,n.component.content)}))}function A(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,4,"div",[["class","card mb-1 placeholder"]],null,null,null,null,null)),e.Db(512,null,c.q,c.r,[e.q,e.r,e.k,e.B]),e.ob(2,278528,null,0,c.h,[c.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Cb(3,{selected:0}),(l()(),e.Fb(4,null,["",""]))],(function(l,n){var u=l(n,3,0,n.component.selected);l(n,2,0,"card mb-1 placeholder",u)}),(function(l,n){l(n,4,0,n.component.content)}))}function J(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"fa-icon",[["class","text-info ml-1 ng-fa-icon"],["icon","eye"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),e.ob(2,573440,null,0,o.c,[s.b,o.a,o.d,[2,o.i]],{icon:[0,"icon"]},null)],(function(l,n){l(n,2,0,"eye")}),(function(l,n){l(n,1,0,e.Ab(n,2).title,e.Ab(n,2).renderedIconHTML)}))}function j(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,8,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,G)),e.ob(2,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,A)),e.ob(4,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(5,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),e.Fb(6,null,["",""])),(l()(),e.eb(16777216,null,null,1,null,J)),e.ob(8,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,!u.placeholder),l(n,4,0,u.placeholder),l(n,8,0,u.opened)}),(function(l,n){l(n,6,0,n.component.mark)}))}var O=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].reverse(),$=function(){function l(n,u,e,t,r){_classCallCheck(this,l),this.utils=n,this.storage=u,this.route=e,this.p2p=t,this.router=r,this.CARDS=[].concat(_toConsumableArray(Array(12).keys()),["-"]),this.isPrepared=!1,this.initialCards=[],this.selectedCardFromDeckIndex=null,this.guessAs=null}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.storage.isHost()&&(this.gameData=this.storage.getGameData(),this.gameData.deck={black:this.CARDS.map((function(l,n){return{color:"black",content:l,mark:O[n],opened:!1}})),white:this.utils.shuffle(this.CARDS).map((function(l,n){return{color:"white",content:l,mark:O[n+13],opened:!1}}))},this.gameData.history=[],this.gameData.currentTurn={memberIndex:null,newCard:null,waitingForConfirmation:!1,guessCorrectly:null,waitingForResponse:!1,gameEnds:!1}),this.utils.getEvent("game-data").subscribe((function(n){if(l.storage.isHost()){if(l.utils.has(n,"prepared")&&n.prepared)return l.memberPrepared(n.id,n.cards);if(l.utils.has(n,"cardConfirmed")&&n.cardConfirmed){var u=l.gameData.members.findIndex((function(l){return l.id===n.id}));return l.gameData.members[u].cards=n.cards,l.nextTurn(),l.p2p.send(l.gameData)}if(l.utils.has(n,"selectCardFromDeck")){if(l.gameData.members[l.gameData.currentTurn.memberIndex].id!==n.id)return;return l.getNewCardFromDeck(n.selectCardFromDeck)}if(l.utils.has(n,"guessCardMark")){if(l.gameData.members[l.gameData.currentTurn.memberIndex].id!==n.id)return;return l.checkGuessResult(n.guessCardMark,n.guessAs)}if(l.utils.has(n,"skipTurn")&&n.skipTurn){if(l.gameData.members[l.gameData.currentTurn.memberIndex].id!==n.id)return;return l.memberSkipTurn()}}else l.gameData=n}))}},{key:"initCardCount",value:function(){return this.utils.isEmpty(this.storage.getGameData())?(this.router.navigate(["room","davinci_code"]),4):4===this.storage.getGameData().members.length?3:4}},{key:"selectInitialCard",value:function(l){(this.initialCards.length!==this.initCardCount()||this.initialCards.includes(l))&&(this.initialCards=this.utils.addOrRemove(this.initialCards,l))}},{key:"prepared",value:function(){this.storage.isHost()?this.memberPrepared(this.p2p.getId(),this.initialCards):this.p2p.send({id:this.p2p.getId(),prepared:!0,cards:this.initialCards}),this.isPrepared=!0}},{key:"memberPrepared",value:function(l,n){var u=this,e=this.gameData.members.findIndex((function(n){return n.id===l})),t=this.gameData.members[e];t.cards=[],t.cardWaitingForConfirm=null,n.forEach((function(l){var n=l<5?u.gameData.deck.black.pop():u.gameData.deck.white.pop();if(t.cards.find((function(l){return"-"===l.content}))&&"-"===n.content){var e=JSON.parse(JSON.stringify(n));l<5?(n=u.gameData.deck.black.pop(),u.gameData.deck.black.push(e)):(n=u.gameData.deck.white.pop(),u.gameData.deck.white.push(e))}n.opened=!1,t.cards.push(n),"-"===n.content&&(t.cardWaitingForConfirm=n)})),t.cards.sort(this.sortCards),this.gameData.members[e]=t,this.nextTurn(),this.p2p.send(this.gameData)}},{key:"sortCards",value:function(l,n){return"-"===l.content?-1:"-"===n.content?1:l.content<n.content?-1:l.content>n.content?1:"black"===l.color?-1:1}},{key:"me",value:function(){var l=this;return this.gameData.members.find((function(n){return n.id===l.p2p.getId()}))}},{key:"reorderCardToIndex",value:function(l){var n=this,u=this.gameData.members.findIndex((function(l){return l.id===n.p2p.getId()})),e=this.gameData.members[u].cards,t=e.findIndex((function(l){return l.mark===n.me().cardWaitingForConfirm.mark}));t<l&&l--,e.splice(l,0,e.splice(t,1)[0])}},{key:"cardConfirmed",value:function(){var l=this,n=this.gameData.members.findIndex((function(n){return n.id===l.p2p.getId()}));return this.gameData.members[n].cardWaitingForConfirm=null,this.storage.isHost()?(this.nextTurn(),this.p2p.send(this.gameData)):this.p2p.send({id:this.p2p.getId(),cardConfirmed:!0,cards:this.gameData.members[n].cards})}},{key:"nextTurn",value:function(){var l=this;if(!this.gameData.members.find((function(n){return!l.utils.has(n,"cards")||n.cardWaitingForConfirm}))){do{null===this.gameData.currentTurn.memberIndex||this.gameData.currentTurn.memberIndex===this.gameData.members.length-1?this.gameData.currentTurn.memberIndex=0:this.gameData.currentTurn.memberIndex++}while(!this.gameData.members[this.gameData.currentTurn.memberIndex].cards.find((function(l){return!l.opened})));this.newTurnInit(),this.p2p.send(this.gameData)}}},{key:"newTurnInit",value:function(){this.gameData.currentTurn.newCard=null,this.gameData.currentTurn.waitingForConfirmation=!1,this.gameData.currentTurn.guessCorrectly=null}},{key:"isMyTurn",value:function(){return!(!this.utils.has(this.gameData,"currentTurn")||null===this.gameData.currentTurn.memberIndex)&&this.gameData.members[this.gameData.currentTurn.memberIndex].id===this.p2p.getId()}},{key:"instruction",value:function(){if(this.me().cardWaitingForConfirm)return this.utils.lang('Please adjust the position of "-" card');if(this.isSelectingCardFromDeck())return this.utils.lang("Please choose a card from the card deck");if(this.isGuessingCard()&&!this.gameData.currentTurn.gameEnds){var l=this.utils.lang("Please choose a card from other people and guess");return this.gameData.currentTurn.guessCorrectly&&(l+=", "+this.utils.lang("or skip this turn")),l}return this.isWaitingForResponse()?this.utils.lang("Please wait for the response of the system"):""}},{key:"showPlaceholderBeforeCard",value:function(l,n){return l.id===this.p2p.getId()&&!!this.me().cardWaitingForConfirm&&l.cards[n].mark!==this.me().cardWaitingForConfirm.mark&&(0===n||l.cards[n-1].mark!==this.me().cardWaitingForConfirm.mark)&&("-"===this.me().cardWaitingForConfirm.content||"-"===l.cards[n].content&&n<l.cards.length-1&&l.cards[n+1].mark===this.me().cardWaitingForConfirm.mark||n>1&&"-"===l.cards[n-1].content&&l.cards[n-2].mark===this.me().cardWaitingForConfirm.mark)}},{key:"showPlaceholderAtLast",value:function(l){return l.id===this.p2p.getId()&&!!this.me().cardWaitingForConfirm&&("-"===this.me().cardWaitingForConfirm.content?this.me().cardWaitingForConfirm.mark!==l.cards[l.cards.length-1].mark:"-"===l.cards[l.cards.length-1].content&&l.cards[l.cards.length-2].mark===this.me().cardWaitingForConfirm.mark)}},{key:"isSelectingCardFromDeck",value:function(){return this.isMyTurn()&&!this.gameData.currentTurn.newCard}},{key:"selectCardFromDeck",value:function(l){this.isSelectingCardFromDeck()&&(this.selectedCardFromDeckIndex=l,this.selectedCardFromDeckConfirming=!1)}},{key:"cardFromDeckConfirmed",value:function(){this.selectedCardFromDeckConfirming=!0;var l=this.selectedCardFromDeckIndex<this.gameData.deck.black.length?"black":"white";if(this.selectedCardFromDeckIndex=null,this.storage.isHost())return this.getNewCardFromDeck(l);this.p2p.send({id:this.p2p.getId(),selectCardFromDeck:l})}},{key:"getNewCardFromDeck",value:function(l){this.gameData.currentTurn.newCard="black"===l?this.gameData.deck.black.pop():this.gameData.deck.white.pop(),this.gameData.history||(this.gameData.history=[]),this.gameData.history.push({name:this.gameData.members[this.gameData.currentTurn.memberIndex].name,cardMark:this.gameData.currentTurn.newCard.mark}),this.p2p.send(this.gameData)}},{key:"isGuessingCard",value:function(){return this.isMyTurn()&&!!this.gameData.currentTurn.newCard&&!this.gameData.currentTurn.waitingForConfirmation}},{key:"isWaitingForResponse",value:function(){return this.isMyTurn()&&this.gameData.currentTurn.waitingForResponse}},{key:"isGuessingCardOfMember",value:function(l){var n=this;return this.isGuessingCard()&&!!l.cards.find((function(l){return l.mark===n.guessCardMark}))}},{key:"selectCardForGuessing",value:function(l){!this.isGuessingCard()||l.opened||this.isWaitingForResponse()||(this.guessCardMark=l.mark)}},{key:"guessConfirmed",value:function(){this.isGuessingCard()&&!this.isWaitingForResponse()&&this.guessCardMark&&null!==this.guessAs&&(this.gameData.currentTurn.waitingForResponse=!0,this.storage.isHost()?this.checkGuessResult(this.guessCardMark,this.guessAs):this.p2p.send({id:this.p2p.getId(),guessCardMark:this.guessCardMark,guessAs:this.guessAs}),this.guessCardMark=null,this.guessAs=null)}},{key:"checkGuessResult",value:function(l,n){var u=this,e=this.findCardByMark(l);if(e)if(this.gameData.history.push({name:this.gameData.members[this.gameData.currentTurn.memberIndex].name,cardMark:l,guessAs:n,result:e.card.content===n}),this.gameData.currentTurn.waitingForResponse=!1,e.card.content===n){this.gameData.members[e.memberIndex].cards[e.cardIndex].opened=!0,this.gameData.currentTurn.guessCorrectly=!0;var t=!0;this.gameData.members.forEach((function(l,n){n!==u.gameData.currentTurn.memberIndex&&l.cards.find((function(l){return!l.opened}))&&(t=!1)})),this.gameData.currentTurn.gameEnds=t,this.p2p.send(this.gameData)}else this.gameData.currentTurn.guessCorrectly=!1,this.gameData.currentTurn.newCard.opened=!0,this.putNewCardToHand(),this.nextTurn()}},{key:"findCardByMark",value:function(l){for(var n=0;n<this.gameData.members.length;n++){var u=this.gameData.members[n],e=u.cards.findIndex((function(n){return n.mark===l}));if(e>-1)return{memberIndex:n,cardIndex:e,card:u.cards[e]}}return null}},{key:"skipTurn",value:function(){this.storage.isHost()?this.memberSkipTurn():this.p2p.send({id:this.p2p.getId(),skipTurn:!0})}},{key:"memberSkipTurn",value:function(){var l=this.insertNewCard(this.gameData.members[this.gameData.currentTurn.memberIndex].cards,this.gameData.currentTurn.newCard);this.gameData.members[this.gameData.currentTurn.memberIndex].cards=l.cards,l.orderFixed?this.nextTurn():(this.gameData.members[this.gameData.currentTurn.memberIndex].cardWaitingForConfirm=this.gameData.currentTurn.newCard,this.p2p.send(this.gameData))}},{key:"insertNewCard",value:function(l,n){if("-"===n.content)return l.push(n),{cards:l,orderFixed:!1};for(var u=!0,e=!1,t=0;t<l.length;t++)if("-"!==l[t].content&&(n.content<l[t].content||n.content===l[t].content&&"black"===n.color)){l.splice(t,0,n),e=!0,0!==t&&"-"===l[t-1].content&&(u=!1);break}return e||("-"===l[l.length-1].content&&(u=!1),l.push(n)),{cards:l,orderFixed:u}}},{key:"putNewCardToHand",value:function(){var l=this.gameData.members[this.gameData.currentTurn.memberIndex].cards;l.push(this.gameData.currentTurn.newCard),this.gameData.members[this.gameData.currentTurn.memberIndex].cards=l.sort(this.sortCards)}},{key:"next",value:function(){var l;return this.utils.has(this.gameData.members[1],"cards")?this.utils.has(this.gameData.members[2],"cards")?void 0:(l={id:this.gameData.members[2].id,cards:[1,2,6,7],prepared:!0},this.utils.broadcastEvent("game-data",l)):(l={id:this.gameData.members[1].id,cards:[1,2,6,7],prepared:!0},this.utils.broadcastEvent("game-data",l))}}]),l}(),H=e.nb({encapsulation:0,styles:[[".row-cards[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]{padding:5px}"]],data:{}});function P(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"app-davinci-code-card",[["color","black"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.selectInitialCard(l.context.$implicit)&&e),e}),j,w)),e.ob(2,49152,null,0,T,[],{color:[0,"color"],selected:[1,"selected"]},null)],(function(l,n){l(n,2,0,"black",n.component.initialCards.includes(n.context.$implicit))}),null)}function _(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"app-davinci-code-card",[["color","white"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.selectInitialCard(l.context.$implicit)&&e),e}),j,w)),e.ob(2,49152,null,0,T,[],{color:[0,"color"],selected:[1,"selected"]},null)],(function(l,n){l(n,2,0,"white",n.component.initialCards.includes(n.context.$implicit))}),null)}function W(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,15,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h2",[["class","mt-3 mb-5"]],null,null,null,null,null)),(l()(),e.Fb(2,null,[""," "," ",""])),(l()(),e.pb(3,0,null,null,12,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.pb(4,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,2,null,P)),e.ob(6,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),e.Bb(7,4),(l()(),e.pb(8,0,null,null,3,"div",[["class","row my-5"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,2,null,_)),e.ob(10,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),e.Bb(11,4),(l()(),e.pb(12,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.pb(13,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),e.pb(14,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.prepared()&&e),e}),null,null)),(l()(),e.Fb(15,null,["",""]))],(function(l,n){var u=l(n,7,0,1,2,3,4);l(n,6,0,u);var e=l(n,11,0,5,6,7,8);l(n,10,0,e)}),(function(l,n){var u=n.component;l(n,2,0,u.utils.lang("Pick"),u.initCardCount(),u.utils.lang("cards")),l(n,14,0,u.initialCards.length!==u.initCardCount()),l(n,15,0,u.utils.lang("OK"))}))}function R(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Fb(1,null,["","!"]))],null,(function(l,n){l(n,1,0,n.component.utils.lang("My Turn"))}))}function q(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Fb(1,null,["","!"]))],null,(function(l,n){l(n,1,0,n.component.utils.lang("I Win"))}))}function S(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,R)),e.ob(2,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,q)),e.ob(4,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,!u.gameData.currentTurn.gameEnds),l(n,4,0,u.gameData.currentTurn.gameEnds)}),null)}function L(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),e.Fb(1,null,[""," "])),(l()(),e.pb(2,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["icon","cog"],["spin","true"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),e.ob(3,573440,null,0,o.c,[s.b,o.a,o.d,[2,o.i]],{icon:[0,"icon"],spin:[1,"spin"]},null)],(function(l,n){l(n,3,0,"cog","true")}),(function(l,n){l(n,1,0,n.component.utils.lang("Waiting For Others")),l(n,2,0,e.Ab(n,3).title,e.Ab(n,3).renderedIconHTML)}))}function E(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Fb(1,null,["","!"]))],null,(function(l,n){l(n,1,0,n.component.utils.lang("Game Over"))}))}function N(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,L)),e.ob(2,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,E)),e.ob(4,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,!u.gameData.currentTurn.gameEnds),l(n,4,0,u.gameData.currentTurn.gameEnds)}),null)}function B(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"p",[["class","text-primary"]],null,null,null,null,null)),(l()(),e.Fb(1,null,["* ",""]))],null,(function(l,n){l(n,1,0,n.component.instruction())}))}function U(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Fb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.name)}))}function K(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"app-davinci-code-card",[],null,null,null,j,w)),e.ob(1,49152,null,0,T,[],{color:[0,"color"],content:[1,"content"],mark:[2,"mark"]},null)],(function(l,n){var u=n.component;l(n,1,0,u.gameData.currentTurn.newCard.color,u.gameData.currentTurn.newCard.content,u.gameData.currentTurn.newCard.mark)}),null)}function V(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.skipTurn()&&e),e}),null,null)),(l()(),e.Fb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.utils.lang("Pass this turn"))}))}function X(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,6,null,null,null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Fb(2,null,["",""])),(l()(),e.eb(16777216,null,null,1,null,K)),e.ob(4,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,V)),e.ob(6,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(0,null,null,0))],(function(l,n){var u=n.component;l(n,4,0,u.isGuessingCard()),l(n,6,0,u.gameData.currentTurn.guessCorrectly&&u.isMyTurn()&&!u.gameData.currentTurn.gameEnds&&!u.me().cardWaitingForConfirm)}),(function(l,n){l(n,2,0,n.component.utils.lang("My Cards"))}))}function Y(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"app-davinci-code-card",[["placeholder","true"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.reorderCardToIndex(l.parent.context.index)&&e),e}),j,w)),e.ob(2,49152,null,0,T,[],{placeholder:[0,"placeholder"]},null)],(function(l,n){l(n,2,0,"true")}),null)}function Z(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,5,null,null,null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,Y)),e.ob(2,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(3,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),e.pb(4,0,null,null,1,"app-davinci-code-card",[],null,[[null,"click"]],(function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=!1!==(l.parent.parent.context.$implicit.id!==t.p2p.getId()?t.selectCardForGuessing(l.context.$implicit):null)&&e),e}),j,w)),e.ob(5,49152,null,0,T,[],{color:[0,"color"],content:[1,"content"],mark:[2,"mark"],selected:[3,"selected"],opened:[4,"opened"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.showPlaceholderBeforeCard(n.parent.parent.context.$implicit,n.context.index)),l(n,5,0,n.context.$implicit.color,n.parent.parent.context.$implicit.id===u.p2p.getId()||n.context.$implicit.opened?n.context.$implicit.content:"",n.context.$implicit.mark,u.guessCardMark===n.context.$implicit.mark,n.context.$implicit.opened)}),null)}function z(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"app-davinci-code-card",[["placeholder","true"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.reorderCardToIndex(l.parent.parent.context.$implicit.cards.length)&&e),e}),j,w)),e.ob(2,49152,null,0,T,[],{placeholder:[0,"placeholder"]},null)],(function(l,n){l(n,2,0,"true")}),null)}function Q(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,4,"div",[["class","row row-cards mt-2 px-2"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,Z)),e.ob(2,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.eb(16777216,null,null,1,null,z)),e.ob(4,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,n.parent.context.$implicit.cards),l(n,4,0,u.showPlaceholderAtLast(n.parent.context.$implicit))}),null)}function ll(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"app-davinci-code-card",[["placeholder","true"]],null,[[null,"click"]],(function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=!1!==(t.isWaitingForResponse()?null:t.guessAs=l.context.$implicit)&&e),e}),j,w)),e.ob(2,49152,null,0,T,[],{content:[0,"content"],selected:[1,"selected"],placeholder:[2,"placeholder"]},null)],(function(l,n){l(n,2,0,n.context.$implicit,n.component.guessAs===n.context.$implicit,"true")}),null)}function nl(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,8,null,null,null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,"div",[["class","row row-cards px-2"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,ll)),e.ob(3,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.pb(4,0,null,null,4,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),e.pb(5,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),e.pb(6,0,null,null,2,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.guessConfirmed()&&e),e}),null,null)),e.Bb(7,2),(l()(),e.Fb(8,null,["",""]))],(function(l,n){l(n,3,0,n.component.CARDS)}),(function(l,n){var u=n.component,e=l(n,7,0,void 0,null).includes(u.guessAs)||u.isWaitingForResponse();l(n,6,0,e),l(n,8,0,u.utils.lang("OK"))}))}function ul(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,3,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.cardConfirmed()&&e),e}),null,null)),(l()(),e.Fb(3,null,["",""]))],null,(function(l,n){l(n,3,0,n.component.utils.lang("OK"))}))}function el(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,15,"div",[["class","px-3 pb-2"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,14,"div",[["class","container card p-2"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.pb(3,0,null,null,6,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),e.pb(4,0,null,null,1,"fa-icon",[["class","text-info mr-2 ng-fa-icon"],["icon","user-alt"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),e.ob(5,573440,null,0,o.c,[s.b,o.a,o.d,[2,o.i]],{icon:[0,"icon"]},null),(l()(),e.eb(16777216,null,null,1,null,U)),e.ob(7,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,X)),e.ob(9,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,Q)),e.ob(11,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,nl)),e.ob(13,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,ul)),e.ob(15,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,5,0,"user-alt"),l(n,7,0,n.context.$implicit.id!==u.p2p.getId()),l(n,9,0,n.context.$implicit.id===u.p2p.getId()),l(n,11,0,n.context.$implicit.cards&&(n.context.$implicit.id===u.p2p.getId()||!n.context.$implicit.cardWaitingForConfirm)),l(n,13,0,u.isGuessingCardOfMember(n.context.$implicit)),l(n,15,0,n.context.$implicit.id===u.p2p.getId()&&n.context.$implicit.cardWaitingForConfirm)}),(function(l,n){l(n,4,0,e.Ab(n,5).title,e.Ab(n,5).renderedIconHTML)}))}function tl(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"app-davinci-code-card",[],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.selectCardFromDeck(l.context.index)&&e),e}),j,w)),e.ob(2,49152,null,0,T,[],{color:[0,"color"],selected:[1,"selected"]},null)],(function(l,n){l(n,2,0,n.context.$implicit.color,n.component.selectedCardFromDeckIndex===n.context.index)}),null)}function rl(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"app-davinci-code-card",[],null,[[null,"click"]],(function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=!1!==t.selectCardFromDeck(l.context.index+t.gameData.deck.black.length)&&e),e}),j,w)),e.ob(2,49152,null,0,T,[],{color:[0,"color"],selected:[1,"selected"]},null)],(function(l,n){var u=n.component;l(n,2,0,n.context.$implicit.color,u.selectedCardFromDeckIndex===n.context.index+u.gameData.deck.black.length)}),null)}function al(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,3,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.cardFromDeckConfirmed()&&e),e}),null,null)),(l()(),e.Fb(3,null,["",""]))],null,(function(l,n){var u=n.component;l(n,2,0,null===u.selectedCardFromDeckIndex||u.selectedCardFromDeckConfirming),l(n,3,0,u.utils.lang("OK"))}))}function il(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.pb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.Fb(2,null,[" "," "," "])),(l()(),e.pb(3,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),e.Fb(4,null,["",""]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.name,n.component.utils.lang("get card")),l(n,4,0,n.parent.context.$implicit.cardMark)}))}function ol(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"fa-icon",[["class","text-success ml-2 ng-fa-icon"],["icon","check"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),e.ob(1,573440,null,0,o.c,[s.b,o.a,o.d,[2,o.i]],{icon:[0,"icon"]},null)],(function(l,n){l(n,1,0,"check")}),(function(l,n){l(n,0,0,e.Ab(n,1).title,e.Ab(n,1).renderedIconHTML)}))}function sl(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"fa-icon",[["class","text-danger ml-2 ng-fa-icon"],["icon","times"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),e.ob(1,573440,null,0,o.c,[s.b,o.a,o.d,[2,o.i]],{icon:[0,"icon"]},null)],(function(l,n){l(n,1,0,"times")}),(function(l,n){l(n,0,0,e.Ab(n,1).title,e.Ab(n,1).renderedIconHTML)}))}function cl(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,10,null,null,null,null,null,null,null)),(l()(),e.Fb(1,null,[" "," "," "])),(l()(),e.pb(2,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),e.Fb(3,null,["",""])),(l()(),e.Fb(4,null,[" "," "])),(l()(),e.pb(5,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),e.Fb(6,null,["",""])),(l()(),e.eb(16777216,null,null,1,null,ol)),e.ob(8,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,sl)),e.ob(10,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(0,null,null,0))],(function(l,n){l(n,8,0,n.parent.context.$implicit.result),l(n,10,0,!n.parent.context.$implicit.result)}),(function(l,n){var u=n.component;l(n,1,0,n.parent.context.$implicit.name,u.utils.lang("guess card")),l(n,3,0,n.parent.context.$implicit.cardMark),l(n,4,0,u.utils.lang("as")),l(n,6,0,n.parent.context.$implicit.guessAs)}))}function ml(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,il)),e.ob(2,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,cl)),e.ob(4,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,void 0===n.context.$implicit.guessAs),l(n,4,0,void 0!==n.context.$implicit.guessAs)}),null)}function dl(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,30,null,null,null,null,null,null,null)),(l()(),e.pb(1,0,null,null,7,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,4,"h2",[["class","mt-3"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,S)),e.ob(4,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,N)),e.ob(6,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,B)),e.ob(8,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,el)),e.ob(10,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.pb(11,0,null,null,13,"div",[["class","px-3 pb-2"]],null,null,null,null,null)),(l()(),e.pb(12,0,null,null,12,"div",[["class","container card p-2"]],null,null,null,null,null)),(l()(),e.pb(13,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.pb(14,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),e.pb(15,0,null,null,1,"fa-icon",[["class","text-info mr-2 ng-fa-icon"],["icon","th-large"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),e.ob(16,573440,null,0,o.c,[s.b,o.a,o.d,[2,o.i]],{icon:[0,"icon"]},null),(l()(),e.Fb(17,null,[" "," "])),(l()(),e.pb(18,0,null,null,4,"div",[["class","row row-cards my-3 px-2"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,tl)),e.ob(20,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.eb(16777216,null,null,1,null,rl)),e.ob(22,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.eb(16777216,null,null,1,null,al)),e.ob(24,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(25,0,null,null,5,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),e.pb(26,0,null,null,4,"div",[["class","card p-2"]],null,null,null,null,null)),(l()(),e.pb(27,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Fb(28,null,["",""])),(l()(),e.eb(16777216,null,null,1,null,ml)),e.ob(30,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,4,0,u.isMyTurn()),l(n,6,0,!u.isMyTurn()),l(n,8,0,u.instruction()),l(n,10,0,u.gameData.members),l(n,16,0,"th-large"),l(n,20,0,u.gameData.deck.black),l(n,22,0,u.gameData.deck.white),l(n,24,0,u.isSelectingCardFromDeck()),l(n,30,0,u.gameData.history)}),(function(l,n){var u=n.component;l(n,15,0,e.Ab(n,16).title,e.Ab(n,16).renderedIconHTML),l(n,17,0,u.utils.lang("Card Deck")),l(n,28,0,u.utils.lang("History"))}))}function bl(l){return e.Gb(0,[(l()(),e.eb(16777216,null,null,1,null,W)),e.ob(1,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,dl)),e.ob(3,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,1,0,!u.isPrepared),l(n,3,0,u.isPrepared)}),null)}var pl=e.lb("app-davinci-code",$,(function(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"app-davinci-code",[],null,null,null,bl,H)),e.ob(1,114688,null,0,$,[d.a,b.a,p.a,g.a,p.k],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),gl=u("PCNd"),fl=function l(){_classCallCheck(this,l)};u.d(n,"GameModuleNgFactory",(function(){return hl}));var hl=e.mb(t,[],(function(l){return e.xb([e.yb(512,e.j,e.X,[[8,[r.a,a.b,a.a,M,pl]],[3,e.j],e.v]),e.yb(4608,c.l,c.k,[e.s,[2,c.t]]),e.yb(4608,i.k,i.k,[]),e.yb(4608,i.c,i.c,[]),e.yb(4608,d.a,d.a,[b.a]),e.yb(4608,g.a,g.a,[d.a]),e.yb(1073742336,p.l,p.l,[[2,p.q],[2,p.k]]),e.yb(1073742336,c.b,c.b,[]),e.yb(1073742336,o.j,o.j,[]),e.yb(1073742336,i.j,i.j,[]),e.yb(1073742336,i.d,i.d,[]),e.yb(1073742336,i.i,i.i,[]),e.yb(1073742336,gl.a,gl.a,[o.d]),e.yb(1073742336,fl,fl,[]),e.yb(1073742336,t,t,[]),e.yb(1024,p.i,(function(){return[[{path:"room/:game",component:m},{path:"davinci_code",component:$},{path:"",redirectTo:"/home",pathMatch:"full"}]]}),[])])}))}}]);