(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{rZCR:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var i=u("pMnS"),a=u("fNgX"),r=u("s7LF"),s=u("Nv++"),o=u("cUpR"),c=u("SVse");class m{constructor(l,n,u,t,e){this.utils=l,this.storage=n,this.route=u,this.p2p=t,this.router=e,this.games={davinci_code:{name:"Davinci Code",min:2,max:4}},this.roomMembers=[]}ngOnInit(){this.game=this.route.snapshot.paramMap.get("game"),this.p2p.init(),this.storage.setGameData({}),this.storage.get("name")&&(this.roomMembers=[this.storage.get("name")]),this.utils.getEvent("game-data").subscribe(l=>{if(this.utils.has(l,"newUser")&&l.newUser&&this.storage.isHost()){this.roomMembers.push(l.name);const n=this.storage.getGameData();this.utils.has(n,"members")||(n.members=[{id:this.p2p.getId(),name:this.storage.get("name")}]),n.members.push({id:l.id,name:l.name}),this.storage.setGameData(n),this.p2p.connect(l.id),this.p2p.send(n,!0),this.p2p.send(n)}this.utils.has(l,"members")&&(this.roomMembers=l.members.map(l=>l.name),this.storage.setGameData({members:l.members})),this.utils.has(l,"startGame")&&l.startGame&&this.router.navigate([l.game])})}saveName(){this.name&&(this.storage.set("name",this.name),this.roomMembers=[this.name])}back(){this.router.navigate([""])}join(){this.roomId&&(this.p2p.connect(this.roomId),this.p2p.send({newUser:!0,id:this.p2p.getId(),name:this.storage.get("name")},!0),this.joiningRoom=!0)}start(){this.p2p.send({startGame:!0,game:this.game}),this.router.navigate([this.game])}}var d=u("kh7C"),b=u("fbMX"),p=u("iInd"),g=u("Pi6V"),h=t.nb({encapsulation:0,styles:[[""]],data:{}});function f(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,10,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t.Fb(2,null,["",":"])),(l()(),t.pb(3,0,null,null,5,"input",[["class","mx-2"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Ab(l,4)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Ab(l,4).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Ab(l,4)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Ab(l,4)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(i.name=u)&&e),e}),null,null)),t.ob(4,16384,null,0,r.b,[t.B,t.k,[2,r.a]],null,null),t.Db(1024,null,r.e,(function(l){return[l]}),[r.b]),t.ob(6,671744,null,0,r.h,[[8,null],[8,null],[8,null],[6,r.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Db(2048,null,r.f,null,[r.h]),t.ob(8,16384,null,0,r.g,[[4,r.f]],null,null),(l()(),t.pb(9,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.saveName()&&t),t}),null,null)),(l()(),t.Fb(10,null,["",""]))],(function(l,n){l(n,6,0,n.component.name)}),(function(l,n){var u=n.component;l(n,2,0,u.utils.lang("Nick Name")),l(n,3,0,t.Ab(n,8).ngClassUntouched,t.Ab(n,8).ngClassTouched,t.Ab(n,8).ngClassPristine,t.Ab(n,8).ngClassDirty,t.Ab(n,8).ngClassValid,t.Ab(n,8).ngClassInvalid,t.Ab(n,8).ngClassPending),l(n,10,0,u.utils.lang("OK"))}))}function k(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","text-info mr-2 ng-fa-icon"],["icon","user-alt"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),t.ob(2,573440,null,0,s.c,[o.b,s.a,s.d,[2,s.i]],{icon:[0,"icon"]},null),(l()(),t.Fb(3,null,["",""]))],(function(l,n){l(n,2,0,"user-alt")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML),l(n,3,0,n.context.$implicit)}))}function C(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,13,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,9,"div",[["class","col-12 text-left"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),t.Fb(3,null,["",": "])),(l()(),t.pb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),t.Fb(5,null,["",""])),(l()(),t.pb(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Fb(7,null,["",": ("," - "," ",")"])),(l()(),t.pb(8,0,null,null,2,"ul",[["class","list-group mt-2"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,k)),t.ob(10,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(11,0,null,null,2,"div",[["class","col-12 text-center mt-2"]],null,null,null,null,null)),(l()(),t.pb(12,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.start()&&t),t}),null,null)),(l()(),t.Fb(13,null,["",""]))],(function(l,n){l(n,10,0,n.component.roomMembers)}),(function(l,n){var u=n.component;l(n,3,0,u.utils.lang("My Room Id")),l(n,5,0,u.p2p.getId()),l(n,7,0,u.utils.lang("People In The Room"),u.games[u.game].min,u.games[u.game].max,u.utils.lang("people")),l(n,12,0,u.roomMembers.length<u.games[u.game].min||u.roomMembers.length>u.games[u.game].max),l(n,13,0,u.utils.lang("Start Game"))}))}function D(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t.Fb(2,null,["",":"])),(l()(),t.pb(3,0,null,null,5,"input",[["class","mx-2"],["style","width: 150px"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Ab(l,4)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Ab(l,4).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Ab(l,4)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Ab(l,4)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(i.roomId=u)&&e),e}),null,null)),t.ob(4,16384,null,0,r.b,[t.B,t.k,[2,r.a]],null,null),t.Db(1024,null,r.e,(function(l){return[l]}),[r.b]),t.ob(6,671744,null,0,r.h,[[8,null],[8,null],[8,null],[6,r.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Db(2048,null,r.f,null,[r.h]),t.ob(8,16384,null,0,r.g,[[4,r.f]],null,null),(l()(),t.pb(9,0,null,null,1,"button",[["class","btn btn-success btn-sm"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.join()&&t),t}),null,null)),(l()(),t.Fb(10,null,["",""]))],(function(l,n){l(n,6,0,n.component.roomId)}),(function(l,n){var u=n.component;l(n,2,0,u.utils.lang("Room Number")),l(n,3,0,t.Ab(n,8).ngClassUntouched,t.Ab(n,8).ngClassTouched,t.Ab(n,8).ngClassPristine,t.Ab(n,8).ngClassDirty,t.Ab(n,8).ngClassValid,t.Ab(n,8).ngClassInvalid,t.Ab(n,8).ngClassPending),l(n,9,0,u.joiningRoom),l(n,10,0,u.utils.lang("Join"))}))}function v(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","text-info mr-2 ng-fa-icon"],["icon","user-alt"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),t.ob(2,573440,null,0,s.c,[o.b,s.a,s.d,[2,s.i]],{icon:[0,"icon"]},null),(l()(),t.Fb(3,null,["",""]))],(function(l,n){l(n,2,0,"user-alt")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML),l(n,3,0,n.context.$implicit)}))}function I(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,5,"div",[["class","col-12 text-left"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Fb(2,null,["",": ("," - "," ",")"])),(l()(),t.pb(3,0,null,null,2,"ul",[["class","list-group mt-2"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,v)),t.ob(5,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,5,0,n.component.roomMembers)}),(function(l,n){var u=n.component;l(n,2,0,u.utils.lang("People In The Room"),u.games[u.game].min,u.games[u.game].max,u.utils.lang("people"))}))}function x(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,4,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,D)),t.ob(2,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,I)),t.ob(4,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.roomMembers.length<=1),l(n,4,0,u.roomMembers.length>1)}),null)}function F(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,21,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,3,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(l()(),t.Fb(3,null,[" ",""])),(l()(),t.pb(4,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.storage.remove("name")&&t),t}),null,null)),(l()(),t.Fb(5,null,["",""])),(l()(),t.pb(6,0,null,null,5,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),t.pb(7,0,null,null,4,"button",[["class","btn btn-lg"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.storage.isHost(!0)&&t),t}),null,null)),t.Db(512,null,c.q,c.r,[t.q,t.r,t.k,t.B]),t.ob(9,278528,null,0,c.h,[c.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Cb(10,{"btn-outline-primary":0,"btn-primary":1}),(l()(),t.Fb(11,null,["",""])),(l()(),t.pb(12,0,null,null,5,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),t.pb(13,0,null,null,4,"button",[["class","btn btn-lg"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.storage.isHost(!1)&&t),t}),null,null)),t.Db(512,null,c.q,c.r,[t.q,t.r,t.k,t.B]),t.ob(15,278528,null,0,c.h,[c.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Cb(16,{"btn-outline-primary":0,"btn-primary":1}),(l()(),t.Fb(17,null,["",""])),(l()(),t.eb(16777216,null,null,1,null,C)),t.ob(19,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,x)),t.ob(21,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(0,null,null,0))],(function(l,n){var u=n.component,t=l(n,10,0,!u.storage.isHost(),u.storage.isHost());l(n,9,0,"btn btn-lg",t);var e=l(n,16,0,u.storage.isHost(),!u.storage.isHost());l(n,15,0,"btn btn-lg",e),l(n,19,0,u.storage.isHost()),l(n,21,0,!u.storage.isHost())}),(function(l,n){var u=n.component;l(n,3,0,u.utils.lang("Hello")),l(n,5,0,u.storage.get("name")),l(n,11,0,u.utils.lang("Create Room")),l(n,17,0,u.utils.lang("Join Room"))}))}function M(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,5,"div",[["class","m-3"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"button",[["class","border-0 bg-transparent text-primary"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.back()&&t),t}),null,null)),(l()(),t.pb(2,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["icon","arrow-left"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),t.ob(3,573440,null,0,s.c,[o.b,s.a,s.d,[2,s.i]],{icon:[0,"icon"]},null),(l()(),t.pb(4,0,null,null,1,"h2",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Fb(5,null,["",""])),(l()(),t.pb(6,0,null,null,4,"div",[["class","container text-center mt-3"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,f)),t.ob(8,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,F)),t.ob(10,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,3,0,"arrow-left"),l(n,8,0,!u.storage.get("name")),l(n,10,0,u.storage.get("name"))}),(function(l,n){var u=n.component;l(n,2,0,t.Ab(n,3).title,t.Ab(n,3).renderedIconHTML),l(n,5,0,u.utils.lang(u.games[u.game].name))}))}function T(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,1,"app-room",[],null,null,null,M,h)),t.ob(1,114688,null,0,m,[d.a,b.a,p.a,g.a,p.k],null,null)],(function(l,n){l(n,1,0)}),null)}var w=t.lb("app-room",m,T,{},{},[]);class G{constructor(){this.color="white"}}var y=t.nb({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{width:40px;height:50px;font-size:25px;margin:auto;border-width:3px;color:#000;background:#fff}.placeholder[_ngcontent-%COMP%]{border:2px dashed var(--orange)}.black[_ngcontent-%COMP%]{color:#fff;background:#000}.selected[_ngcontent-%COMP%]{-webkit-transform:scale(1.3);transform:scale(1.3)}p[_ngcontent-%COMP%]{margin-bottom:0}"]],data:{}});function A(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,4,"div",[["class","card mb-1"]],null,null,null,null,null)),t.Db(512,null,c.q,c.r,[t.q,t.r,t.k,t.B]),t.ob(2,278528,null,0,c.h,[c.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Cb(3,{selected:0,black:1}),(l()(),t.Fb(4,null,["",""]))],(function(l,n){var u=n.component,t=l(n,3,0,u.selected,"black"===u.color);l(n,2,0,"card mb-1",t)}),(function(l,n){l(n,4,0,n.component.content)}))}function J(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,4,"div",[["class","card mb-1 placeholder"]],null,null,null,null,null)),t.Db(512,null,c.q,c.r,[t.q,t.r,t.k,t.B]),t.ob(2,278528,null,0,c.h,[c.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Cb(3,{selected:0}),(l()(),t.Fb(4,null,["",""]))],(function(l,n){var u=l(n,3,0,n.component.selected);l(n,2,0,"card mb-1 placeholder",u)}),(function(l,n){l(n,4,0,n.component.content)}))}function j(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","text-info ml-1 ng-fa-icon"],["icon","eye"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),t.ob(2,573440,null,0,s.c,[o.b,s.a,s.d,[2,s.i]],{icon:[0,"icon"]},null)],(function(l,n){l(n,2,0,"eye")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML)}))}function O(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,8,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,A)),t.ob(2,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,J)),t.ob(4,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(5,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),t.Fb(6,null,["",""])),(l()(),t.eb(16777216,null,null,1,null,j)),t.ob(8,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,!u.placeholder),l(n,4,0,u.placeholder),l(n,8,0,u.opened)}),(function(l,n){l(n,6,0,n.component.mark)}))}const $=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].reverse();class H{constructor(l,n,u,t,e){this.utils=l,this.storage=n,this.route=u,this.p2p=t,this.router=e,this.CARDS=[...Array(12).keys(),"-"],this.isPrepared=!1,this.initialCards=[],this.selectedCardFromDeckIndex=null,this.guessAs=null}ngOnInit(){this.storage.isHost()&&(this.gameData=this.storage.getGameData(),this.gameData.deck={black:this.CARDS.map((l,n)=>({color:"black",content:l,mark:$[n],opened:!1})),white:this.utils.shuffle(this.CARDS).map((l,n)=>({color:"white",content:l,mark:$[n+13],opened:!1}))},this.gameData.history=[],this.gameData.currentTurn={memberIndex:null,newCard:null,waitingForConfirmation:!1,guessCorrectly:null,waitingForResponse:!1,gameEnds:!1}),this.utils.getEvent("game-data").subscribe(l=>{if(this.storage.isHost()){if(this.utils.has(l,"prepared")&&l.prepared)return this.memberPrepared(l.id,l.cards);if(this.utils.has(l,"cardConfirmed")&&l.cardConfirmed){const n=this.gameData.members.findIndex(n=>n.id===l.id);return this.gameData.members[n].cards=l.cards,this.nextTurn(),this.p2p.send(this.gameData)}if(this.utils.has(l,"selectCardFromDeck")){if(this.gameData.members[this.gameData.currentTurn.memberIndex].id!==l.id)return;return this.getNewCardFromDeck(l.selectCardFromDeck)}if(this.utils.has(l,"guessCardMark")){if(this.gameData.members[this.gameData.currentTurn.memberIndex].id!==l.id)return;return this.checkGuessResult(l.guessCardMark,l.guessAs)}if(this.utils.has(l,"skipTurn")&&l.skipTurn){if(this.gameData.members[this.gameData.currentTurn.memberIndex].id!==l.id)return;return this.memberSkipTurn()}}else this.gameData=l})}initCardCount(){return this.utils.isEmpty(this.storage.getGameData())?(this.router.navigate(["room","davinci_code"]),4):4===this.storage.getGameData().members.length?3:4}selectInitialCard(l){(this.initialCards.length!==this.initCardCount()||this.initialCards.includes(l))&&(this.initialCards=this.utils.addOrRemove(this.initialCards,l))}prepared(){this.storage.isHost()?this.memberPrepared(this.p2p.getId(),this.initialCards):this.p2p.send({id:this.p2p.getId(),prepared:!0,cards:this.initialCards}),this.isPrepared=!0}memberPrepared(l,n){const u=this.gameData.members.findIndex(n=>n.id===l),t=this.gameData.members[u];t.cards=[],t.cardWaitingForConfirm=null,n.forEach(l=>{let n=l<5?this.gameData.deck.black.pop():this.gameData.deck.white.pop();if(t.cards.find(l=>"-"===l.content)&&"-"===n.content){const u=JSON.parse(JSON.stringify(n));l<5?(n=this.gameData.deck.black.pop(),this.gameData.deck.black.push(u)):(n=this.gameData.deck.white.pop(),this.gameData.deck.white.push(u))}n.opened=!1,t.cards.push(n),"-"===n.content&&(t.cardWaitingForConfirm=n)}),t.cards.sort(this.sortCards),this.gameData.members[u]=t,this.nextTurn(),this.p2p.send(this.gameData)}sortCards(l,n){return"-"===l.content?-1:"-"===n.content?1:l.content<n.content?-1:l.content>n.content?1:"black"===l.color?-1:1}me(){return this.gameData.members.find(l=>l.id===this.p2p.getId())}reorderCardToIndex(l){const n=this.gameData.members.findIndex(l=>l.id===this.p2p.getId()),u=this.gameData.members[n].cards,t=u.findIndex(l=>l.mark===this.me().cardWaitingForConfirm.mark);t<l&&l--,u.splice(l,0,u.splice(t,1)[0])}cardConfirmed(){const l=this.gameData.members.findIndex(l=>l.id===this.p2p.getId());return this.gameData.members[l].cardWaitingForConfirm=null,this.storage.isHost()?(this.nextTurn(),this.p2p.send(this.gameData)):this.p2p.send({id:this.p2p.getId(),cardConfirmed:!0,cards:this.gameData.members[l].cards})}nextTurn(){if(!this.gameData.members.find(l=>!this.utils.has(l,"cards")||l.cardWaitingForConfirm)){do{null===this.gameData.currentTurn.memberIndex||this.gameData.currentTurn.memberIndex===this.gameData.members.length-1?this.gameData.currentTurn.memberIndex=0:this.gameData.currentTurn.memberIndex++}while(!this.gameData.members[this.gameData.currentTurn.memberIndex].cards.find(l=>!l.opened));this.newTurnInit(),this.p2p.send(this.gameData)}}newTurnInit(){this.gameData.currentTurn.newCard=null,this.gameData.currentTurn.waitingForConfirmation=!1,this.gameData.currentTurn.guessCorrectly=null}isMyTurn(){return!(!this.utils.has(this.gameData,"currentTurn")||null===this.gameData.currentTurn.memberIndex)&&this.gameData.members[this.gameData.currentTurn.memberIndex].id===this.p2p.getId()}instruction(){if(this.me().cardWaitingForConfirm)return this.utils.lang('Please adjust the position of "-" card');if(this.isSelectingCardFromDeck())return this.utils.lang("Please choose a card from the card deck");if(this.isGuessingCard()&&!this.gameData.currentTurn.gameEnds){let l=this.utils.lang("Please choose a card from other people and guess");return this.gameData.currentTurn.guessCorrectly&&(l+=", "+this.utils.lang("or skip this turn")),l}return this.isWaitingForResponse()?this.utils.lang("Please wait for the response of the system"):""}showPlaceholderBeforeCard(l,n){return l.id===this.p2p.getId()&&!!this.me().cardWaitingForConfirm&&l.cards[n].mark!==this.me().cardWaitingForConfirm.mark&&(0===n||l.cards[n-1].mark!==this.me().cardWaitingForConfirm.mark)&&("-"===this.me().cardWaitingForConfirm.content||"-"===l.cards[n].content&&n<l.cards.length-1&&l.cards[n+1].mark===this.me().cardWaitingForConfirm.mark||n>1&&"-"===l.cards[n-1].content&&l.cards[n-2].mark===this.me().cardWaitingForConfirm.mark)}showPlaceholderAtLast(l){return l.id===this.p2p.getId()&&!!this.me().cardWaitingForConfirm&&("-"===this.me().cardWaitingForConfirm.content?this.me().cardWaitingForConfirm.mark!==l.cards[l.cards.length-1].mark:"-"===l.cards[l.cards.length-1].content&&l.cards[l.cards.length-2].mark===this.me().cardWaitingForConfirm.mark)}isSelectingCardFromDeck(){return this.isMyTurn()&&!this.gameData.currentTurn.newCard}selectCardFromDeck(l){this.isSelectingCardFromDeck()&&(this.selectedCardFromDeckIndex=l,this.selectedCardFromDeckConfirming=!1)}cardFromDeckConfirmed(){this.selectedCardFromDeckConfirming=!0;const l=this.selectedCardFromDeckIndex<this.gameData.deck.black.length?"black":"white";if(this.selectedCardFromDeckIndex=null,this.storage.isHost())return this.getNewCardFromDeck(l);this.p2p.send({id:this.p2p.getId(),selectCardFromDeck:l})}getNewCardFromDeck(l){this.gameData.currentTurn.newCard="black"===l?this.gameData.deck.black.pop():this.gameData.deck.white.pop(),this.gameData.history||(this.gameData.history=[]),this.gameData.history.push({name:this.gameData.members[this.gameData.currentTurn.memberIndex].name,cardMark:this.gameData.currentTurn.newCard.mark}),this.p2p.send(this.gameData)}isGuessingCard(){return this.isMyTurn()&&!!this.gameData.currentTurn.newCard&&!this.gameData.currentTurn.waitingForConfirmation}isWaitingForResponse(){return this.isMyTurn()&&this.gameData.currentTurn.waitingForResponse}isGuessingCardOfMember(l){return this.isGuessingCard()&&!!l.cards.find(l=>l.mark===this.guessCardMark)}selectCardForGuessing(l){!this.isGuessingCard()||l.opened||this.isWaitingForResponse()||(this.guessCardMark=l.mark)}guessConfirmed(){this.isGuessingCard()&&!this.isWaitingForResponse()&&this.guessCardMark&&null!==this.guessAs&&(this.gameData.currentTurn.waitingForResponse=!0,this.storage.isHost()?this.checkGuessResult(this.guessCardMark,this.guessAs):this.p2p.send({id:this.p2p.getId(),guessCardMark:this.guessCardMark,guessAs:this.guessAs}),this.guessCardMark=null,this.guessAs=null)}checkGuessResult(l,n){const u=this.findCardByMark(l);if(u)if(this.gameData.history.push({name:this.gameData.members[this.gameData.currentTurn.memberIndex].name,cardMark:l,guessAs:n,result:u.card.content===n}),this.gameData.currentTurn.waitingForResponse=!1,u.card.content===n){this.gameData.members[u.memberIndex].cards[u.cardIndex].opened=!0,this.gameData.currentTurn.guessCorrectly=!0;let l=!0;this.gameData.members.forEach((n,u)=>{u!==this.gameData.currentTurn.memberIndex&&n.cards.find(l=>!l.opened)&&(l=!1)}),this.gameData.currentTurn.gameEnds=l,this.p2p.send(this.gameData)}else this.gameData.currentTurn.guessCorrectly=!1,this.gameData.currentTurn.newCard.opened=!0,this.putNewCardToHand(),this.nextTurn()}findCardByMark(l){for(let n=0;n<this.gameData.members.length;n++){const u=this.gameData.members[n],t=u.cards.findIndex(n=>n.mark===l);if(t>-1)return{memberIndex:n,cardIndex:t,card:u.cards[t]}}return null}skipTurn(){this.storage.isHost()?this.memberSkipTurn():this.p2p.send({id:this.p2p.getId(),skipTurn:!0})}memberSkipTurn(){const l=this.insertNewCard(this.gameData.members[this.gameData.currentTurn.memberIndex].cards,this.gameData.currentTurn.newCard);this.gameData.members[this.gameData.currentTurn.memberIndex].cards=l.cards,l.orderFixed?this.nextTurn():(this.gameData.members[this.gameData.currentTurn.memberIndex].cardWaitingForConfirm=this.gameData.currentTurn.newCard,this.p2p.send(this.gameData))}insertNewCard(l,n){if("-"===n.content)return l.push(n),{cards:l,orderFixed:!1};let u=!0,t=!1;for(let e=0;e<l.length;e++)if("-"!==l[e].content&&(n.content<l[e].content||n.content===l[e].content&&"black"===n.color)){l.splice(e,0,n),t=!0,0!==e&&"-"===l[e-1].content&&(u=!1);break}return t||("-"===l[l.length-1].content&&(u=!1),l.push(n)),{cards:l,orderFixed:u}}putNewCardToHand(){const l=this.gameData.members[this.gameData.currentTurn.memberIndex].cards;l.push(this.gameData.currentTurn.newCard),this.gameData.members[this.gameData.currentTurn.memberIndex].cards=l.sort(this.sortCards)}next(){let l;return this.utils.has(this.gameData.members[1],"cards")?this.utils.has(this.gameData.members[2],"cards")?void 0:(l={id:this.gameData.members[2].id,cards:[1,2,6,7],prepared:!0},this.utils.broadcastEvent("game-data",l)):(l={id:this.gameData.members[1].id,cards:[1,2,6,7],prepared:!0},this.utils.broadcastEvent("game-data",l))}}var P=t.nb({encapsulation:0,styles:[[".row-cards[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]{padding:5px}"]],data:{}});function R(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-davinci-code-card",[["color","black"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectInitialCard(l.context.$implicit)&&t),t}),O,y)),t.ob(2,49152,null,0,G,[],{color:[0,"color"],selected:[1,"selected"]},null)],(function(l,n){l(n,2,0,"black",n.component.initialCards.includes(n.context.$implicit))}),null)}function W(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-davinci-code-card",[["color","white"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectInitialCard(l.context.$implicit)&&t),t}),O,y)),t.ob(2,49152,null,0,G,[],{color:[0,"color"],selected:[1,"selected"]},null)],(function(l,n){l(n,2,0,"white",n.component.initialCards.includes(n.context.$implicit))}),null)}function q(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,15,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"h2",[["class","mt-3 mb-5"]],null,null,null,null,null)),(l()(),t.Fb(2,null,[""," "," ",""])),(l()(),t.pb(3,0,null,null,12,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.pb(4,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,2,null,R)),t.ob(6,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),t.Bb(7,4),(l()(),t.pb(8,0,null,null,3,"div",[["class","row my-5"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,2,null,W)),t.ob(10,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),t.Bb(11,4),(l()(),t.pb(12,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.pb(13,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t.pb(14,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.prepared()&&t),t}),null,null)),(l()(),t.Fb(15,null,["",""]))],(function(l,n){var u=l(n,7,0,1,2,3,4);l(n,6,0,u);var t=l(n,11,0,5,6,7,8);l(n,10,0,t)}),(function(l,n){var u=n.component;l(n,2,0,u.utils.lang("Pick"),u.initCardCount(),u.utils.lang("cards")),l(n,14,0,u.initialCards.length!==u.initCardCount()),l(n,15,0,u.utils.lang("OK"))}))}function L(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),t.Fb(1,null,["","!"]))],null,(function(l,n){l(n,1,0,n.component.utils.lang("My Turn"))}))}function N(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),t.Fb(1,null,["","!"]))],null,(function(l,n){l(n,1,0,n.component.utils.lang("I Win"))}))}function S(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,L)),t.ob(2,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,N)),t.ob(4,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,!u.gameData.currentTurn.gameEnds),l(n,4,0,u.gameData.currentTurn.gameEnds)}),null)}function E(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.Fb(1,null,[""," "])),(l()(),t.pb(2,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["icon","cog"],["spin","true"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),t.ob(3,573440,null,0,s.c,[o.b,s.a,s.d,[2,s.i]],{icon:[0,"icon"],spin:[1,"spin"]},null)],(function(l,n){l(n,3,0,"cog","true")}),(function(l,n){l(n,1,0,n.component.utils.lang("Waiting For Others")),l(n,2,0,t.Ab(n,3).title,t.Ab(n,3).renderedIconHTML)}))}function _(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),t.Fb(1,null,["","!"]))],null,(function(l,n){l(n,1,0,n.component.utils.lang("Game Over"))}))}function B(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,E)),t.ob(2,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,_)),t.ob(4,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,!u.gameData.currentTurn.gameEnds),l(n,4,0,u.gameData.currentTurn.gameEnds)}),null)}function U(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,1,"p",[["class","text-primary"]],null,null,null,null,null)),(l()(),t.Fb(1,null,["* ",""]))],null,(function(l,n){l(n,1,0,n.component.instruction())}))}function K(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Fb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.name)}))}function V(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,1,"app-davinci-code-card",[],null,null,null,O,y)),t.ob(1,49152,null,0,G,[],{color:[0,"color"],content:[1,"content"],mark:[2,"mark"]},null)],(function(l,n){var u=n.component;l(n,1,0,u.gameData.currentTurn.newCard.color,u.gameData.currentTurn.newCard.content,u.gameData.currentTurn.newCard.mark)}),null)}function X(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.skipTurn()&&t),t}),null,null)),(l()(),t.Fb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.utils.lang("Pass this turn"))}))}function Y(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,6,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Fb(2,null,["",""])),(l()(),t.eb(16777216,null,null,1,null,V)),t.ob(4,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,X)),t.ob(6,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(0,null,null,0))],(function(l,n){var u=n.component;l(n,4,0,u.isGuessingCard()),l(n,6,0,u.gameData.currentTurn.guessCorrectly&&u.isMyTurn()&&!u.gameData.currentTurn.gameEnds&&!u.me().cardWaitingForConfirm)}),(function(l,n){l(n,2,0,n.component.utils.lang("My Cards"))}))}function Z(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-davinci-code-card",[["placeholder","true"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.reorderCardToIndex(l.parent.context.index)&&t),t}),O,y)),t.ob(2,49152,null,0,G,[],{placeholder:[0,"placeholder"]},null)],(function(l,n){l(n,2,0,"true")}),null)}function z(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,5,null,null,null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,Z)),t.ob(2,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(3,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t.pb(4,0,null,null,1,"app-davinci-code-card",[],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==(l.parent.parent.context.$implicit.id!==e.p2p.getId()?e.selectCardForGuessing(l.context.$implicit):null)&&t),t}),O,y)),t.ob(5,49152,null,0,G,[],{color:[0,"color"],content:[1,"content"],mark:[2,"mark"],selected:[3,"selected"],opened:[4,"opened"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.showPlaceholderBeforeCard(n.parent.parent.context.$implicit,n.context.index)),l(n,5,0,n.context.$implicit.color,n.parent.parent.context.$implicit.id===u.p2p.getId()||n.context.$implicit.opened?n.context.$implicit.content:"",n.context.$implicit.mark,u.guessCardMark===n.context.$implicit.mark,n.context.$implicit.opened)}),null)}function Q(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-davinci-code-card",[["placeholder","true"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.reorderCardToIndex(l.parent.parent.context.$implicit.cards.length)&&t),t}),O,y)),t.ob(2,49152,null,0,G,[],{placeholder:[0,"placeholder"]},null)],(function(l,n){l(n,2,0,"true")}),null)}function ll(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,4,"div",[["class","row row-cards mt-2 px-2"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,z)),t.ob(2,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.eb(16777216,null,null,1,null,Q)),t.ob(4,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,n.parent.context.$implicit.cards),l(n,4,0,u.showPlaceholderAtLast(n.parent.context.$implicit))}),null)}function nl(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-davinci-code-card",[["placeholder","true"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==(e.isWaitingForResponse()?null:e.guessAs=l.context.$implicit)&&t),t}),O,y)),t.ob(2,49152,null,0,G,[],{content:[0,"content"],selected:[1,"selected"],placeholder:[2,"placeholder"]},null)],(function(l,n){l(n,2,0,n.context.$implicit,n.component.guessAs===n.context.$implicit,"true")}),null)}function ul(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,8,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"div",[["class","row row-cards px-2"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,nl)),t.ob(3,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(4,0,null,null,4,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),t.pb(5,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,2,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.guessConfirmed()&&t),t}),null,null)),t.Bb(7,2),(l()(),t.Fb(8,null,["",""]))],(function(l,n){l(n,3,0,n.component.CARDS)}),(function(l,n){var u=n.component,t=l(n,7,0,void 0,null).includes(u.guessAs)||u.isWaitingForResponse();l(n,6,0,t),l(n,8,0,u.utils.lang("OK"))}))}function tl(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,3,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.cardConfirmed()&&t),t}),null,null)),(l()(),t.Fb(3,null,["",""]))],null,(function(l,n){l(n,3,0,n.component.utils.lang("OK"))}))}function el(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,15,"div",[["class","px-3 pb-2"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,14,"div",[["class","container card p-2"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,6,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t.pb(4,0,null,null,1,"fa-icon",[["class","text-info mr-2 ng-fa-icon"],["icon","user-alt"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),t.ob(5,573440,null,0,s.c,[o.b,s.a,s.d,[2,s.i]],{icon:[0,"icon"]},null),(l()(),t.eb(16777216,null,null,1,null,K)),t.ob(7,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,Y)),t.ob(9,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,ll)),t.ob(11,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,ul)),t.ob(13,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,tl)),t.ob(15,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,5,0,"user-alt"),l(n,7,0,n.context.$implicit.id!==u.p2p.getId()),l(n,9,0,n.context.$implicit.id===u.p2p.getId()),l(n,11,0,n.context.$implicit.cards&&(n.context.$implicit.id===u.p2p.getId()||!n.context.$implicit.cardWaitingForConfirm)),l(n,13,0,u.isGuessingCardOfMember(n.context.$implicit)),l(n,15,0,n.context.$implicit.id===u.p2p.getId()&&n.context.$implicit.cardWaitingForConfirm)}),(function(l,n){l(n,4,0,t.Ab(n,5).title,t.Ab(n,5).renderedIconHTML)}))}function il(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-davinci-code-card",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectCardFromDeck(l.context.index)&&t),t}),O,y)),t.ob(2,49152,null,0,G,[],{color:[0,"color"],selected:[1,"selected"]},null)],(function(l,n){l(n,2,0,n.context.$implicit.color,n.component.selectedCardFromDeckIndex===n.context.index)}),null)}function al(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-davinci-code-card",[],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.selectCardFromDeck(l.context.index+e.gameData.deck.black.length)&&t),t}),O,y)),t.ob(2,49152,null,0,G,[],{color:[0,"color"],selected:[1,"selected"]},null)],(function(l,n){var u=n.component;l(n,2,0,n.context.$implicit.color,u.selectedCardFromDeckIndex===n.context.index+u.gameData.deck.black.length)}),null)}function rl(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,3,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.cardFromDeckConfirmed()&&t),t}),null,null)),(l()(),t.Fb(3,null,["",""]))],null,(function(l,n){var u=n.component;l(n,2,0,null===u.selectedCardFromDeckIndex||u.selectedCardFromDeckConfirming),l(n,3,0,u.utils.lang("OK"))}))}function sl(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.Fb(2,null,[" "," "," "])),(l()(),t.pb(3,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),t.Fb(4,null,["",""]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.name,n.component.utils.lang("get card")),l(n,4,0,n.parent.context.$implicit.cardMark)}))}function ol(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,1,"fa-icon",[["class","text-success ml-2 ng-fa-icon"],["icon","check"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),t.ob(1,573440,null,0,s.c,[o.b,s.a,s.d,[2,s.i]],{icon:[0,"icon"]},null)],(function(l,n){l(n,1,0,"check")}),(function(l,n){l(n,0,0,t.Ab(n,1).title,t.Ab(n,1).renderedIconHTML)}))}function cl(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,1,"fa-icon",[["class","text-danger ml-2 ng-fa-icon"],["icon","times"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),t.ob(1,573440,null,0,s.c,[o.b,s.a,s.d,[2,s.i]],{icon:[0,"icon"]},null)],(function(l,n){l(n,1,0,"times")}),(function(l,n){l(n,0,0,t.Ab(n,1).title,t.Ab(n,1).renderedIconHTML)}))}function ml(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,10,null,null,null,null,null,null,null)),(l()(),t.Fb(1,null,[" "," "," "])),(l()(),t.pb(2,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),t.Fb(3,null,["",""])),(l()(),t.Fb(4,null,[" "," "])),(l()(),t.pb(5,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),t.Fb(6,null,["",""])),(l()(),t.eb(16777216,null,null,1,null,ol)),t.ob(8,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,cl)),t.ob(10,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(0,null,null,0))],(function(l,n){l(n,8,0,n.parent.context.$implicit.result),l(n,10,0,!n.parent.context.$implicit.result)}),(function(l,n){var u=n.component;l(n,1,0,n.parent.context.$implicit.name,u.utils.lang("guess card")),l(n,3,0,n.parent.context.$implicit.cardMark),l(n,4,0,u.utils.lang("as")),l(n,6,0,n.parent.context.$implicit.guessAs)}))}function dl(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,sl)),t.ob(2,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,ml)),t.ob(4,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,void 0===n.context.$implicit.guessAs),l(n,4,0,void 0!==n.context.$implicit.guessAs)}),null)}function bl(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,30,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,7,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,4,"h2",[["class","mt-3"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,S)),t.ob(4,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,B)),t.ob(6,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,U)),t.ob(8,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,el)),t.ob(10,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(11,0,null,null,13,"div",[["class","px-3 pb-2"]],null,null,null,null,null)),(l()(),t.pb(12,0,null,null,12,"div",[["class","container card p-2"]],null,null,null,null,null)),(l()(),t.pb(13,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.pb(14,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t.pb(15,0,null,null,1,"fa-icon",[["class","text-info mr-2 ng-fa-icon"],["icon","th-large"]],[[1,"title",0],[8,"innerHTML",1]],null,null,a.d,a.c)),t.ob(16,573440,null,0,s.c,[o.b,s.a,s.d,[2,s.i]],{icon:[0,"icon"]},null),(l()(),t.Fb(17,null,[" "," "])),(l()(),t.pb(18,0,null,null,4,"div",[["class","row row-cards my-3 px-2"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,il)),t.ob(20,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.eb(16777216,null,null,1,null,al)),t.ob(22,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.eb(16777216,null,null,1,null,rl)),t.ob(24,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(25,0,null,null,5,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),t.pb(26,0,null,null,4,"div",[["class","card p-2"]],null,null,null,null,null)),(l()(),t.pb(27,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Fb(28,null,["",""])),(l()(),t.eb(16777216,null,null,1,null,dl)),t.ob(30,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,4,0,u.isMyTurn()),l(n,6,0,!u.isMyTurn()),l(n,8,0,u.instruction()),l(n,10,0,u.gameData.members),l(n,16,0,"th-large"),l(n,20,0,u.gameData.deck.black),l(n,22,0,u.gameData.deck.white),l(n,24,0,u.isSelectingCardFromDeck()),l(n,30,0,u.gameData.history)}),(function(l,n){var u=n.component;l(n,15,0,t.Ab(n,16).title,t.Ab(n,16).renderedIconHTML),l(n,17,0,u.utils.lang("Card Deck")),l(n,28,0,u.utils.lang("History"))}))}function pl(l){return t.Gb(0,[(l()(),t.eb(16777216,null,null,1,null,q)),t.ob(1,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,bl)),t.ob(3,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,1,0,!u.isPrepared),l(n,3,0,u.isPrepared)}),null)}function gl(l){return t.Gb(0,[(l()(),t.pb(0,0,null,null,1,"app-davinci-code",[],null,null,null,pl,P)),t.ob(1,114688,null,0,H,[d.a,b.a,p.a,g.a,p.k],null,null)],(function(l,n){l(n,1,0)}),null)}var hl=t.lb("app-davinci-code",H,gl,{},{},[]),fl=u("PCNd");class kl{}u.d(n,"GameModuleNgFactory",(function(){return Cl}));var Cl=t.mb(e,[],(function(l){return t.xb([t.yb(512,t.j,t.X,[[8,[i.a,a.b,a.a,w,hl]],[3,t.j],t.v]),t.yb(4608,c.l,c.k,[t.s,[2,c.t]]),t.yb(4608,r.k,r.k,[]),t.yb(4608,r.c,r.c,[]),t.yb(4608,d.a,d.a,[b.a]),t.yb(4608,g.a,g.a,[d.a]),t.yb(1073742336,p.l,p.l,[[2,p.q],[2,p.k]]),t.yb(1073742336,c.b,c.b,[]),t.yb(1073742336,s.j,s.j,[]),t.yb(1073742336,r.j,r.j,[]),t.yb(1073742336,r.d,r.d,[]),t.yb(1073742336,r.i,r.i,[]),t.yb(1073742336,fl.a,fl.a,[s.d]),t.yb(1073742336,kl,kl,[]),t.yb(1073742336,e,e,[]),t.yb(1024,p.i,(function(){return[[{path:"room/:game",component:m},{path:"davinci_code",component:H},{path:"",redirectTo:"/home",pathMatch:"full"}]]}),[])])}))}}]);